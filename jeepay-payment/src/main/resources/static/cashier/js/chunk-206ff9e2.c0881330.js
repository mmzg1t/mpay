(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-206ff9e2"],{3958:function(e,t,a){e.exports=a.p+"img/S.1db749bc.svg"},4472:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("header",{staticClass:"header"},[t("div",{staticClass:"header-text"},[e._v("付款给"+e._s(e.payOrderInfo.mchName))]),t("div",{staticClass:"header-img"},[t("img",{attrs:{src:e.avatar?e.avatar:e.icon_member_default,alt:""}})])]),t("div",{staticClass:"plus-input"},[e._m(0),t("div",{staticClass:"input-c",staticStyle:{width:"100%"}},[e.payOrderInfo.amount?t("div",{staticClass:"input-c-div-1"},[e._v(e._s(e.payOrderInfo.amount/100))]):t("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticStyle:{height:"120px"},attrs:{type:"number",placeholder:"请输入金额"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})])]),t("ul",{staticClass:"plus-ul"},[t("li",{staticStyle:{"border-radius":"10px"}},[t("div",{staticClass:"img-div"},[t("img",{attrs:{src:e.wxImg,alt:""}}),t("div",{staticClass:"div-text"},[e._v(" 微信支付 ")])])])]),t("div",{staticClass:"bnt-pay"},[t("div",{staticClass:"bnt-pay-text",staticStyle:{"background-color":"#07c160"},on:{click:e.pay}},[e._v(" 付款 ")])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"S"},[t("img",{attrs:{src:a("3958"),alt:""}})])}],n=(a("14d9"),a("4ec3")),s=a("f121"),o={data:function(){return{merchantName:"jeepay",avatar:a("cbee"),amount:null,resData:{},wxImg:a("cbee"),payOrderInfo:{}}},mounted(){this.setPayOrderInfo()},methods:{setPayOrderInfo(){const e=this;Object(n["b"])().then(t=>{e.payOrderInfo=t,t.amount&&(this.amount=t.amount/100,e.pay())}).catch(t=>{e.$router.push({name:s["a"].errorPageRouteName,params:{errInfo:t.msg}})})},pay:function(){if(isNaN(this.amount)||this.amount<=0)return alert("请输入金额");let e=this;Object(n["c"])(this.amount).then(t=>"0"!=t.code?alert(t.msg):1!=t.data.orderState?alert(t.data.errMsg):(e.resData=t.data,void("undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e.onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e.onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",e.onBridgeReady)):e.onBridgeReady()))).catch(t=>{e.$router.push({name:s["a"].errorPageRouteName,params:{errInfo:t.msg}})})},onBridgeReady(){let e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(e.resData.payInfo),(function(t){"get_brand_wcpay_request:ok"==t.err_msg&&(e.payOrderInfo.returnUrl?location.href=e.payOrderInfo.returnUrl:(alert("支付成功！"),window.WeixinJSBridge.call("closeWindow"))),"get_brand_wcpay_request:cancel"==t.err_msg&&(alert("支付取消"),window.WeixinJSBridge.call("closeWindow")),"get_brand_wcpay_request:fail"==t.err_msg&&(alert("支付失败:"+JSON.stringify(t)),window.WeixinJSBridge.call("closeWindow")),"total_fee"==t.err_msg&&(alert("缺少参数"),window.WeixinJSBridge.call("closeWindow"))}))}}},d=o,c=(a("6226"),a("2877")),u=Object(c["a"])(d,r,i,!1,null,"79b3be68",null);t["default"]=u.exports},6226:function(e,t,a){"use strict";a("fc83")},cbee:function(e,t,a){e.exports=a.p+"img/wx.ec067f2f.svg"},fc83:function(e,t,a){}}]);
//# sourceMappingURL=chunk-206ff9e2.c0881330.js.map